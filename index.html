<!-- index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Chatbot de Límites - Cálculo Diferencial</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f0f4f8; padding: 20px; }
    #chatbox { border: 1px solid #ccc; padding: 15px; background: #fff; max-width: 600px; margin: auto; border-radius: 8px; }
    .bot, .user { margin: 10px 0; }
    .bot { color: #1a73e8; }
    .user { color: #444; text-align: right; }
    input[type="text"] { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    button { margin-top: 10px; padding: 10px 20px; background-color: #1a73e8; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>

<div id="chatbox">
  <div class="bot">👋 Hola, soy tu chatbot de Cálculo Diferencial. ¿Quieres aprender sobre los límites? Escribe <strong>sí</strong> para comenzar.</div>
</div>

<input type="text" id="userInput" placeholder="Escribe aquí tu respuesta...">
<button onclick="handleUserInput()">Enviar</button>

<script>
  const questions = [
    "¿Qué significa el límite de una función en un punto?",
    "¿Por qué son importantes los límites en el cálculo diferencial?",
    "¿Qué diferencia hay entre un límite lateral y un límite general?",
    "¿Cómo puedo saber si un límite existe en un punto?",
    "¿Qué hago si al evaluar un límite obtengo una indeterminación como 0/0 o ∞/∞?",
    "¿Cuál es la diferencia entre el valor del límite y el valor de la función en un punto?",
    "¿Cómo se relacionan los límites con la continuidad y la derivada?"
  ];

  const explanations = [
    "El límite describe el valor al que se aproxima una función cuando la variable independiente se acerca a cierto punto, sin necesidad de que la función esté definida en ese punto.",
    "Porque los límites permiten definir conceptos fundamentales como la derivada, la continuidad y el comportamiento de funciones en puntos donde no están definidas directamente.",
    "Un límite lateral considera solo un lado (izquierdo o derecho) al acercarse al punto. El límite general existe solo si los dos límites laterales coinciden.",
    "Primero, verifica si los límites laterales existen y son iguales. Si lo son, el límite existe. Si no, no existe.",
    "Cuando hay indeterminaciones, se pueden usar técnicas como factorización, racionalización, multiplicar por conjugado o la Regla de L'Hôpital.",
    "El valor del límite es el comportamiento de la función cerca del punto. El valor de la función es cuánto vale exactamente en ese punto. Pueden ser diferentes si hay una discontinuidad.",
    "La derivada se define como un límite. Además, una función es continua en un punto si el límite existe, coincide con el valor de la función y ambos límites laterales son iguales."
  ];

  let step = -1;

  function handleUserInput() {
    const input = document.getElementById("userInput").value.trim().toLowerCase();
    const chatbox = document.getElementById("chatbox");

    if (input === "") return;

    chatbox.innerHTML += `<div class="user">${input}</div>`;
    document.getElementById("userInput").value = "";

    if (step === -1 && input.includes("sí")) {
      step = 0;
      setTimeout(() => {
        chatbox.innerHTML += `<div class="bot">👍 Genial, comencemos. Pregunta 1:<br><strong>${questions[step]}</strong></div>`;
      }, 500);
    } else if (step >= 0 && step < questions.length) {
      chatbox.innerHTML += `<div class="bot">📘 Respuesta:<br>${explanations[step]}</div>`;
      step++;
      if (step < questions.length) {
        setTimeout(() => {
          chatbox.innerHTML += `<div class="bot">👉 Pregunta ${step + 1}:<br><strong>${questions[step]}</strong></div>`;
        }, 1000);
      } else {
        setTimeout(() => {
          chatbox.innerHTML += `<div class="bot">🎉 ¡Has terminado las 7 preguntas sobre límites! ¿Quieres repasarlas de nuevo? Escribe <strong>sí</strong> para reiniciar.</div>`;
          step = -1;
        }, 1000);
      }
    } else {
      chatbox.innerHTML += `<div class="bot">❓ No entendí. Escribe <strong>sí</strong> si quieres comenzar con las preguntas sobre límites.</div>`;
    }
  }
</script>

</body>
</html>
